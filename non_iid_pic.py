from random import randint

import torch
from torch.utils.data import DataLoader
from torchvision import datasets, transforms
from data_utils import iid_dataset_split, dirichlet_dataset_split_with_num, parameter_series
import math

# a = ""
# for i in range(100):
#     a += "\'" + str(i) + "\',"
#
# print(a)
#
# b = "["
#
# for i in range(10):
#     for j in range(100):
#         b += "[" + str(i) + "," + str(j) + "," + str(randint(0, 1000)) + "],"
#
# print(b)
#
#
# a = ""
# for i in range(10):
#     a += "\'client" + str(i) + "\',"
# print(a)

dataset_train = datasets.CIFAR10('D://dataset/cifar10', train=True, download=False, transform=transforms.ToTensor())
a, num = dirichlet_dataset_split_with_num(dataset_train, torch.IntTensor(dataset_train.targets), 11, 0.1)

xx = []


for m in range(11):
    ll = [0 for i in range(10)]
    for _, y in DataLoader(a[m]):
        ll[int(y)] += 1
    print(ll)
    xx.append(ll)

b = "["
for i in range(11):
    for j in range(10):
        b += "[" + str(i) + "," + str(j) + "," + str(xx[i][j]-1) + "],"

print(b)


# [[0,0,51],[0,1,0],[0,2,48],[0,3,2],[0,4,0],[0,5,0],[0,6,7],[0,7,344],[0,8,73],[0,9,0],[0,10,0],[0,11,18],[0,12,175],[0,13,0],[0,14,16],[0,15,183],[0,16,0],[0,17,0],[0,18,2],[0,19,0],[0,20,0],[0,21,0],[0,22,2],[0,23,0],[0,24,64],[0,25,0],[0,26,0],[0,27,0],[0,28,23],[0,29,271],[0,30,0],[0,31,225],[0,32,0],[0,33,4],[0,34,9],[0,35,0],[0,36,281],[0,37,3],[0,38,0],[0,39,71],[0,40,1],[0,41,1],[0,42,61],[0,43,199],[0,44,0],[0,45,62],[0,46,82],[0,47,1],[0,48,0],[0,49,12],[0,50,0],[0,51,0],[0,52,0],[0,53,15],[0,54,0],[0,55,12],[0,56,16],[0,57,0],[0,58,0],[0,59,0],[0,60,0],[0,61,0],[0,62,0],[0,63,0],[0,64,0],[0,65,6],[0,66,16],[0,67,0],[0,68,8],[0,69,18],[0,70,14],[0,71,11],[0,72,0],[0,73,131],[0,74,0],[0,75,0],[0,76,6],[0,77,34],[0,78,134],[0,79,28],[0,80,0],[0,81,60],[0,82,374],[0,83,0],[0,84,9],[0,85,21],[0,86,385],[0,87,4],[0,88,1],[0,89,28],[0,90,0],[0,91,0],[0,92,0],[0,93,126],[0,94,50],[0,95,0],[0,96,0],[0,97,223],[0,98,2],[0,99,0],[1,0,28],[1,1,22],[1,2,0],[1,3,1],[1,4,86],[1,5,0],[1,6,0],[1,7,25],[1,8,0],[1,9,0],[1,10,0],[1,11,0],[1,12,2],[1,13,261],[1,14,0],[1,15,0],[1,16,0],[1,17,0],[1,18,0],[1,19,0],[1,20,38],[1,21,0],[1,22,375],[1,23,279],[1,24,1],[1,25,110],[1,26,0],[1,27,46],[1,28,0],[1,29,0],[1,30,91],[1,31,0],[1,32,0],[1,33,0],[1,34,0],[1,35,0],[1,36,0],[1,37,6],[1,38,0],[1,39,0],[1,40,0],[1,41,51],[1,42,0],[1,43,75],[1,44,37],[1,45,0],[1,46,0],[1,47,0],[1,48,0],[1,49,3],[1,50,313],[1,51,0],[1,52,2],[1,53,0],[1,54,0],[1,55,0],[1,56,2],[1,57,0],[1,58,0],[1,59,0],[1,60,7],[1,61,0],[1,62,34],[1,63,0],[1,64,3],[1,65,39],[1,66,0],[1,67,36],[1,68,0],[1,69,0],[1,70,0],[1,71,8],[1,72,0],[1,73,0],[1,74,253],[1,75,0],[1,76,0],[1,77,133],[1,78,0],[1,79,0],[1,80,0],[1,81,2],[1,82,0],[1,83,0],[1,84,2],[1,85,0],[1,86,1],[1,87,0],[1,88,126],[1,89,59],[1,90,17],[1,91,219],[1,92,1],[1,93,0],[1,94,0],[1,95,4],[1,96,8],[1,97,6],[1,98,0],[1,99,0],[2,0,62],[2,1,32],[2,2,0],[2,3,0],[2,4,0],[2,5,0],[2,6,10],[2,7,0],[2,8,0],[2,9,0],[2,10,0],[2,11,0],[2,12,0],[2,13,8],[2,14,258],[2,15,0],[2,16,207],[2,17,0],[2,18,0],[2,19,0],[2,20,0],[2,21,0],[2,22,0],[2,23,75],[2,24,0],[2,25,230],[2,26,3],[2,27,0],[2,28,5],[2,29,1],[2,30,0],[2,31,4],[2,32,0],[2,33,0],[2,34,45],[2,35,0],[2,36,0],[2,37,348],[2,38,0],[2,39,0],[2,40,153],[2,41,0],[2,42,131],[2,43,0],[2,44,37],[2,45,7],[2,46,149],[2,47,0],[2,48,329],[2,49,0],[2,50,0],[2,51,30],[2,52,7],[2,53,5],[2,54,161],[2,55,305],[2,56,0],[2,57,0],[2,58,0],[2,59,0],[2,60,16],[2,61,0],[2,62,133],[2,63,0],[2,64,372],[2,65,0],[2,66,3],[2,67,0],[2,68,0],[2,69,0],[2,70,0],[2,71,0],[2,72,0],[2,73,233],[2,74,0],[2,75,0],[2,76,0],[2,77,210],[2,78,0],[2,79,131],[2,80,4],[2,81,0],[2,82,0],[2,83,105],[2,84,0],[2,85,0],[2,86,0],[2,87,66],[2,88,30],[2,89,245],[2,90,81],[2,91,180],[2,92,0],[2,93,42],[2,94,0],[2,95,0],[2,96,3],[2,97,3],[2,98,0],[2,99,0],[3,0,0],[3,1,0],[3,2,146],[3,3,0],[3,4,0],[3,5,292],[3,6,0],[3,7,5],[3,8,0],[3,9,0],[3,10,0],[3,11,9],[3,12,1],[3,13,76],[3,14,0],[3,15,11],[3,16,0],[3,17,0],[3,18,323],[3,19,24],[3,20,0],[3,21,0],[3,22,0],[3,23,0],[3,24,0],[3,25,0],[3,26,0],[3,27,10],[3,28,0],[3,29,0],[3,30,194],[3,31,0],[3,32,0],[3,33,37],[3,34,0],[3,35,220],[3,36,0],[3,37,0],[3,38,5],[3,39,0],[3,40,7],[3,41,329],[3,42,0],[3,43,3],[3,44,0],[3,45,0],[3,46,6],[3,47,0],[3,48,69],[3,49,0],[3,50,38],[3,51,0],[3,52,0],[3,53,0],[3,54,0],[3,55,0],[3,56,86],[3,57,1],[3,58,0],[3,59,183],[3,60,25],[3,61,37],[3,62,0],[3,63,0],[3,64,19],[3,65,0],[3,66,1],[3,67,0],[3,68,4],[3,69,311],[3,70,0],[3,71,0],[3,72,323],[3,73,0],[3,74,0],[3,75,1],[3,76,0],[3,77,4],[3,78,0],[3,79,63],[3,80,0],[3,81,0],[3,82,0],[3,83,1],[3,84,0],[3,85,103],[3,86,0],[3,87,1],[3,88,0],[3,89,0],[3,90,0],[3,91,0],[3,92,0],[3,93,49],[3,94,297],[3,95,0],[3,96,0],[3,97,0],[3,98,0],[3,99,112],[4,0,179],[4,1,0],[4,2,2],[4,3,67],[4,4,0],[4,5,1],[4,6,0],[4,7,0],[4,8,90],[4,9,199],[4,10,305],[4,11,0],[4,12,0],[4,13,1],[4,14,0],[4,15,13],[4,16,0],[4,17,0],[4,18,73],[4,19,221],[4,20,5],[4,21,0],[4,22,0],[4,23,0],[4,24,163],[4,25,0],[4,26,0],[4,27,148],[4,28,0],[4,29,0],[4,30,110],[4,31,1],[4,32,11],[4,33,38],[4,34,195],[4,35,90],[4,36,0],[4,37,0],[4,38,0],[4,39,303],[4,40,0],[4,41,0],[4,42,0],[4,43,0],[4,44,0],[4,45,0],[4,46,0],[4,47,124],[4,48,0],[4,49,382],[4,50,1],[4,51,9],[4,52,0],[4,53,0],[4,54,220],[4,55,14],[4,56,0],[4,57,0],[4,58,1],[4,59,10],[4,60,6],[4,61,0],[4,62,0],[4,63,335],[4,64,4],[4,65,0],[4,66,0],[4,67,12],[4,68,0],[4,69,69],[4,70,0],[4,71,0],[4,72,0],[4,73,0],[4,74,3],[4,75,5],[4,76,2],[4,77,0],[4,78,0],[4,79,52],[4,80,0],[4,81,0],[4,82,0],[4,83,0],[4,84,0],[4,85,18],[4,86,0],[4,87,136],[4,88,10],[4,89,0],[4,90,0],[4,91,0],[4,92,385],[4,93,73],[4,94,1],[4,95,1],[4,96,0],[4,97,22],[4,98,0],[4,99,89],[5,0,0],[5,1,51],[5,2,163],[5,3,0],[5,4,1],[5,5,0],[5,6,49],[5,7,0],[5,8,64],[5,9,0],[5,10,16],[5,11,0],[5,12,0],[5,13,32],[5,14,13],[5,15,0],[5,16,0],[5,17,0],[5,18,0],[5,19,0],[5,20,0],[5,21,0],[5,22,19],[5,23,0],[5,24,160],[5,25,0],[5,26,0],[5,27,0],[5,28,1],[5,29,0],[5,30,1],[5,31,0],[5,32,5],[5,33,0],[5,34,0],[5,35,21],[5,36,109],[5,37,0],[5,38,130],[5,39,0],[5,40,113],[5,41,0],[5,42,162],[5,43,0],[5,44,0],[5,45,0],[5,46,25],[5,47,0],[5,48,0],[5,49,0],[5,50,47],[5,51,0],[5,52,34],[5,53,0],[5,54,0],[5,55,2],[5,56,0],[5,57,0],[5,58,126],[5,59,0],[5,60,0],[5,61,174],[5,62,182],[5,63,13],[5,64,0],[5,65,98],[5,66,225],[5,67,113],[5,68,237],[5,69,0],[5,70,383],[5,71,0],[5,72,0],[5,73,0],[5,74,0],[5,75,0],[5,76,8],[5,77,0],[5,78,0],[5,79,85],[5,80,0],[5,81,327],[5,82,1],[5,83,265],[5,84,0],[5,85,0],[5,86,0],[5,87,61],[5,88,83],[5,89,0],[5,90,27],[5,91,0],[5,92,0],[5,93,0],[5,94,0],[5,95,0],[5,96,0],[5,97,116],[5,98,365],[5,99,0],[6,0,0],[6,1,281],[6,2,37],[6,3,328],[6,4,0],[6,5,51],[6,6,198],[6,7,3],[6,8,19],[6,9,0],[6,10,42],[6,11,51],[6,12,107],[6,13,0],[6,14,0],[6,15,0],[6,16,137],[6,17,24],[6,18,0],[6,19,54],[6,20,1],[6,21,8],[6,22,0],[6,23,27],[6,24,0],[6,25,58],[6,26,16],[6,27,12],[6,28,4],[6,29,0],[6,30,0],[6,31,11],[6,32,0],[6,33,0],[6,34,0],[6,35,0],[6,36,7],[6,37,0],[6,38,0],[6,39,2],[6,40,0],[6,41,0],[6,42,44],[6,43,0],[6,44,2],[6,45,218],[6,46,58],[6,47,267],[6,48,0],[6,49,0],[6,50,0],[6,51,0],[6,52,328],[6,53,374],[6,54,16],[6,55,64],[6,56,27],[6,57,11],[6,58,1],[6,59,27],[6,60,84],[6,61,0],[6,62,0],[6,63,4],[6,64,0],[6,65,212],[6,66,0],[6,67,1],[6,68,0],[6,69,0],[6,70,1],[6,71,0],[6,72,74],[6,73,34],[6,74,0],[6,75,0],[6,76,0],[6,77,0],[6,78,0],[6,79,0],[6,80,0],[6,81,0],[6,82,3],[6,83,13],[6,84,387],[6,85,80],[6,86,6],[6,87,67],[6,88,0],[6,89,59],[6,90,17],[6,91,0],[6,92,12],[6,93,0],[6,94,0],[6,95,10],[6,96,0],[6,97,0],[6,98,23],[6,99,0],[7,0,77],[7,1,0],[7,2,0],[7,3,0],[7,4,0],[7,5,0],[7,6,133],[7,7,21],[7,8,1],[7,9,25],[7,10,4],[7,11,2],[7,12,0],[7,13,0],[7,14,73],[7,15,37],[7,16,0],[7,17,0],[7,18,0],[7,19,0],[7,20,220],[7,21,95],[7,22,0],[7,23,0],[7,24,3],[7,25,0],[7,26,0],[7,27,157],[7,28,16],[7,29,0],[7,30,0],[7,31,0],[7,32,0],[7,33,0],[7,34,149],[7,35,26],[7,36,0],[7,37,39],[7,38,0],[7,39,0],[7,40,0],[7,41,0],[7,42,0],[7,43,80],[7,44,322],[7,45,2],[7,46,45],[7,47,0],[7,48,0],[7,49,0],[7,50,0],[7,51,359],[7,52,26],[7,53,3],[7,54,0],[7,55,1],[7,56,266],[7,57,383],[7,58,6],[7,59,177],[7,60,259],[7,61,0],[7,62,0],[7,63,0],[7,64,0],[7,65,0],[7,66,76],[7,67,172],[7,68,0],[7,69,0],[7,70,0],[7,71,0],[7,72,0],[7,73,0],[7,74,0],[7,75,4],[7,76,3],[7,77,9],[7,78,153],[7,79,38],[7,80,5],[7,81,8],[7,82,20],[7,83,0],[7,84,0],[7,85,175],[7,86,3],[7,87,0],[7,88,1],[7,89,0],[7,90,255],[7,91,0],[7,92,0],[7,93,15],[7,94,0],[7,95,384],[7,96,387],[7,97,0],[7,98,0],[7,99,186],[8,0,0],[8,1,11],[8,2,0],[8,3,0],[8,4,0],[8,5,2],[8,6,0],[8,7,0],[8,8,0],[8,9,173],[8,10,0],[8,11,0],[8,12,0],[8,13,0],[8,14,37],[8,15,2],[8,16,5],[8,17,375],[8,18,0],[8,19,0],[8,20,134],[8,21,295],[8,22,1],[8,23,0],[8,24,0],[8,25,0],[8,26,378],[8,27,23],[8,28,347],[8,29,125],[8,30,1],[8,31,50],[8,32,380],[8,33,306],[8,34,0],[8,35,0],[8,36,0],[8,37,2],[8,38,0],[8,39,0],[8,40,47],[8,41,0],[8,42,0],[8,43,0],[8,44,0],[8,45,41],[8,46,0],[8,47,2],[8,48,0],[8,49,0],[8,50,0],[8,51,0],[8,52,0],[8,53,0],[8,54,0],[8,55,0],[8,56,0],[8,57,1],[8,58,0],[8,59,0],[8,60,0],[8,61,0],[8,62,34],[8,63,14],[8,64,0],[8,65,0],[8,66,0],[8,67,62],[8,68,143],[8,69,0],[8,70,0],[8,71,20],[8,72,2],[8,73,0],[8,74,23],[8,75,346],[8,76,374],[8,77,0],[8,78,110],[8,79,0],[8,80,389],[8,81,0],[8,82,0],[8,83,13],[8,84,0],[8,85,0],[8,86,0],[8,87,0],[8,88,146],[8,89,3],[8,90,0],[8,91,0],[8,92,0],[8,93,79],[8,94,0],[8,95,0],[8,96,0],[8,97,22],[8,98,4],[8,99,10],[9,0,93],[9,1,93],[9,2,94],[9,3,92],[9,4,403],[9,5,144],[9,6,93],[9,7,92],[9,8,243],[9,9,93],[9,10,123],[9,11,410],[9,12,205],[9,13,112],[9,14,93],[9,15,244],[9,16,141],[9,17,91],[9,18,92],[9,19,191],[9,20,92],[9,21,92],[9,22,93],[9,23,109],[9,24,99],[9,25,92],[9,26,93],[9,27,94],[9,28,94],[9,29,93],[9,30,93],[9,31,199],[9,32,94],[9,33,105],[9,34,92],[9,35,133],[9,36,93],[9,37,92],[9,38,355],[9,39,114],[9,40,169],[9,41,109],[9,42,92],[9,43,133],[9,44,92],[9,45,160],[9,46,125],[9,47,96],[9,48,92],[9,49,93],[9,50,91],[9,51,92],[9,52,93],[9,53,93],[9,54,93],[9,55,92],[9,56,93],[9,57,94],[9,58,356],[9,59,93],[9,60,93],[9,61,279],[9,62,107],[9,63,124],[9,64,92],[9,65,135],[9,66,169],[9,67,94],[9,68,98],[9,69,92],[9,70,92],[9,71,451],[9,72,91],[9,73,92],[9,74,211],[9,75,134],[9,76,97],[9,77,100],[9,78,93],[9,79,93],[9,80,92],[9,81,93],[9,82,92],[9,83,93],[9,84,92],[9,85,93],[9,86,95],[9,87,155],[9,88,93],[9,89,96],[9,90,93],[9,91,91],[9,92,92],[9,93,106],[9,94,142],[9,95,91],[9,96,92],[9,97,98],[9,98,96],[9,99,93]]